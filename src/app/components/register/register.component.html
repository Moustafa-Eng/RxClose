<!-- register.component.html -->
<div class="row col-sm-11 col-md-8 col-lg-12 slider-container">
  <div class="card shadow-lg p-3 mb-5 bg-body rounded-5 bg-color">
    <div class="card-body ">
      <h2 class="text-center mb-4 main-color">Create your account and start use Examak</h2>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- First Name -->
        <div class="mb-3">
          <label class="form-label text-white">Your first name</label>
          <input 
            type="text" 
            class="form-control"
            formControlName="firstName"
            placeholder="Type your first name"
            [class.is-invalid]="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
          >
          @if (firstName?.invalid && (firstName?.dirty || firstName?.touched)) {
            <div class="invalid-feedback">
              First name is required
            </div>
          }
        </div>

        <!-- Last Name -->
        <div class="mb-3">
          <label class="form-label text-white">Your last name</label>
          <input 
            type="text" 
            class="form-control"
            formControlName="lastName"
            placeholder="Type your last name"
            [class.is-invalid]="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
          >
          @if (lastName?.invalid && (lastName?.dirty || lastName?.touched)) {
            <div class="invalid-feedback">
              Last name is required
            </div>
          }
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label text-white">Your email address</label>
          <input 
            type="email" 
            class="form-control"
            formControlName="email"
            placeholder="Type your email address"
            [class.is-invalid]="email?.invalid && (email?.dirty || email?.touched)"
          >
          @if (email?.invalid && (email?.dirty || email?.touched)) {
            <div class="invalid-feedback">
              @if (email?.errors?.['required']) {
                <div>Email is required</div>
              }
              @if (email?.errors?.['email']) {
                <div>Please enter a valid email</div>
              }
            </div>
          }
        </div>

        <!-- Doctor Or Student -->
        <div class="mb-3">
          <!-- <label class="form-label text-white">Are you a doctor or a student?</label> -->
          <div class="form-check form-check-inline">
            <input 
              class="form-check-input"
              type="radio"
              name="role"
              id="doctor"
              value="doctor"
              formControlName="role"
            >
            <label class="form-check-label text-white" for="doctor">Doctor</label>
          </div>
          <div class="form-check form-check-inline">
            <input 
            class="form-check-input"
            type="radio"
            name="role"
            id="student"
            value="student"
            formControlName="role"
            >
            <label class="form-check-label text-white" for="student">Student</label>
          </div>
        </div>

        <!-- Password -->
        <div class="mb-4">
          <label class="form-label text-white">Password</label>  
          <input 
            type="password" 
            class="form-control"
            formControlName="password"
            placeholder="Type your password"
            [class.is-invalid]="password?.invalid && (password?.dirty || password?.touched)"
          >
          @if (password?.invalid && (password?.dirty || password?.touched)) {
            <div class="invalid-feedback">
              @if (password?.errors?.['required']) {
                <div>Password is required</div>
              }
              @if (password?.errors?.['minlength']) {
                <div>Password must be at least 8 characters</div>
              }
            </div>
          }
        </div>

        <!-- Submit Button -->
        <button 
          type="submit" 
          class="bg-white p-2 rounded cursor-pointer"
          [disabled]="!registerForm.valid"
        >
          Sign Up <i class="fas fa-check-circle"></i>
        </button>
      </form>

      <div class="text-center mt-4">
        <span class="text-white">Already have an account? </span>
        <a class="main-color" routerLink="/login">Sign In</a>
      </div>
    </div>
  </div>
</div>